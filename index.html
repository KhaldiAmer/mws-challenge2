<!DOCTYPE html>
<html>
<head>
  <title>CurrencyConverter</title>
<style>
  body {
    margin: 0 auto;
    padding: 0;
    display: flex;
  }
  form {
     margin: 0 auto;
     padding: 50px;
  }
  div {
     margin: 0 auto;
  }
</style>
</head>
<body>

<form id="form">
  <div >
    <label for="input">input</label>
      <input type="number" id="input" min=0 >
  </div>
  <label for="currs">select from</label>
  <select name="currs" id="currs">
  </select>
  <label for="currsTo">select to</label>
  <select name="currsTo" id="currsTo">
  </select>
  <button type="submit">submit</button>
</form>
<script>
const currencies = 
 ["AED",
"AFN",
"ALL",
"AMD",
"AOA",
"ARS",
"AUD",
"AWG",
"AZN",
"BAM",
"BBD",
"BDT",
"BGN",
"BHD",
"BIF",
"BND",
"BOB",
"BRL",
"BSD",
"BTN",
"BWP",
"BYN",
"BZD",
"CAD",
"CDF",
"CHF",
"CLP",
"CNY",
"COP",
"CRC",
"CUP",
"CZK",
"DJF",
"DKK",
"DOP",
"DZD",
"EGP",
"ERN",
"ETB",
"EUR",
"FJD",
"GBP",
"GEL",
"GHS",
"GIP",
"GMD",
"GNF",
"GTQ",
"GYD",
"HKD",
"HNL",
"HRK",
"HTG",
"HUF",
"IDR",
"ILS",
"INR",
"IQD",
"IRR",
"ISK",
"JMD",
"JOD",
"JPY",
"KES",
"KGS",
"KHR",
"KMF",
"KPW",
"KRW",
"KWD",
"KYD",
"KZT",
"LAK",
"LBP",
"LKR",
"LRD",
"LSL",
"LVL",
"LYD",
"MAD",
"MDL",
"MGA",
"MKD",
"MMK",
"MNT",
"MOP",
"MRO",
"MUR",
"MVR",
"MWK",
"MXN",
"MYR",
"MZN",
"NAD",
"NGN",
"NIO",
"NOK",
"NPR",
"NZD",
"OMR",
"PAB",
"PEN",
"PGK",
"PHP",
"PKR",
"PLN",
"PYG",
"QAR",
"RON",
"RSD",
"RUB",
"RWF",
"SAR",
"SBD",
"SCR",
"SDG",
"SEK",
"SGD",
"SHP",
"SLL",
"SOS",
"SRD",
"STD",
"SYP",
"SZL",
"THB",
"TJS",
"TMT",
"TND",
"TOP",
"TRY",
"TTD",
"TWD",
"TZS",
"UAH",
"UGX",
"USD",
"UYU",
"UZS",
"VEF",
"VND",
"VUV",
"WST",
"XAF",
"XCD",
"XOF",
"XPF",
"YER",
"ZAR",
"ZMW"];
function fillOptions (currencies) {
  let currs = document.getElementById("currs");
  let currsTo = document.getElementById("currsTo");
  currencies.forEach(curr => {
    let option = document.createElement("option");
    option.innerText = curr;
    option.setAttribute("value", curr);
    let optionClone = option.cloneNode(true);
    currs.appendChild(option);
    currsTo.appendChild(optionClone);
  } )
}

function preventDB() {
  let form = document.getElementById("form");
  form.addEventListener("submit", event => {
    event.preventDefault();
    makeRequest();
  })
}
function makeRequest () {
  let from = document.getElementById("currs").value;
  let to = document.getElementById("currsTo").value;
  let query = `${from}_${to}`
  fetch(`https://free.currencyconverterapi.com/api/v5/convert?q=${query}&compact=ultra`)
    .then(res => res.json())
    .then(data => alert(data[query]))
    .catch(err => console.log(err))
}
preventDB();
fillOptions(currencies);
</script>
</body>
</html>


